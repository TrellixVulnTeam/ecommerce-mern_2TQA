{"ast":null,"code":"var _jsxFileName = \"/home/shivaworkstation/Documents/MERN STACK/ecommerce/client/src/components/AdminEditProduct.js\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useState } from \"react\";\nimport isEmpty from \"validator/lib/isEmpty\";\nimport { showErrorMsg, showSuccessMsg } from \"./helpers/message\";\nimport { showLoading } from \"./helpers/loading\"; //redux\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { clear_messages } from \"../redux/actions/messageActions\";\nimport { createProduct } from \"../redux/actions/productActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst AdminEditProduct = () => {\n  _s();\n\n  const dispatch = useDispatch(); //redux global state\n  //from store\n\n  const {\n    successMsg,\n    errorMsg\n  } = useSelector(state => state.messages);\n  const {\n    loading\n  } = useSelector(state => state.loading);\n  const {\n    categories\n  } = useSelector(state => state.categories); //\n\n  const [clientSideError, setClientSideError] = useState(\"\");\n  const [productData, setProductData] = useState({\n    productImage: null,\n    productName: \"\",\n    productDesc: \"\",\n    productPrice: \"\",\n    productCategory: \"\",\n    productQty: \"\"\n  });\n  const {\n    productImage,\n    productName,\n    productDesc,\n    productPrice,\n    productCategory,\n    productQty\n  } = productData;\n  /****************************\n   * EVENT HANDLERS\n   ***************************/\n\n  const handleMessages = evt => {\n    dispatch(clear_messages());\n    setClientSideError(\"\");\n  };\n  /****** on typing food item *****/\n\n\n  const handleProductImage = e => {\n    setProductData({ ...productData,\n      [e.target.name]: e.target.files[0]\n    });\n  };\n\n  const handleProductChange = e => {\n    setProductData({ ...productData,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  const handleProductSubmit = evt => {\n    evt.preventDefault();\n\n    if (productImage === null) {\n      setClientSideError(\"Please select an image\");\n    } else if (isEmpty(productName) || isEmpty(productDesc) || isEmpty(productPrice)) {\n      setClientSideError(\"Please enter all fields\");\n    } else if (isEmpty(productCategory)) {\n      setClientSideError(\"Please select a category\");\n    } else if (isEmpty(productQty)) {\n      setClientSideError(\"Please select a quantity\");\n    } else {\n      let formData = new FormData();\n      formData.append(\"productImage\", productImage);\n      formData.append(\"productName\", productName);\n      formData.append(\"productDesc\", productDesc);\n      formData.append(\"productPrice\", productPrice);\n      formData.append(\"productCategory\", productCategory);\n      formData.append(\"productQty\", productQty);\n      dispatch(createProduct(formData));\n      setProductData({\n        productImage: null,\n        productName: \"\",\n        productDesc: \"\",\n        productPrice: \"\",\n        productCategory: \"\",\n        productQty: \"\"\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-content\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleProductSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-header bg-warning text-dark\",\n        children: [clientSideError && showErrorMsg(clientSideError), errorMsg && showErrorMsg(errorMsg), successMsg && showSuccessMsg(successMsg), /*#__PURE__*/_jsxDEV(\"h5\", {\n          className: \"modal-text\",\n          children: \"Add Food\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"close\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-times text-dark\",\n              \"data-dismiss\": \"modal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-body my-3\",\n        children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [\" \", showLoading()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mb-3\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              className: \"form-control \",\n              name: \"productImage\",\n              onChange: handleProductImage\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group mt-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-secondary\",\n              children: \" Food Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              className: \"form-control\",\n              name: \"productName\",\n              value: productName,\n              onChange: handleProductChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-secondary\",\n              children: \" Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              type: \"text\",\n              rows: \"4\",\n              className: \"form-control\",\n              name: \"productDesc\",\n              value: productDesc,\n              onChange: handleProductChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-secondary\",\n              children: \" Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"productPrice\",\n              value: productPrice,\n              onChange: handleProductChange,\n              className: \"form-control\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 147,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group col-md-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-secondary\",\n                children: \" Category\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-control custom-select mr-sm-2\",\n                name: \"productCategory\",\n                onChange: handleProductChange,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Choose one..\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 21\n                }, this), categories && categories.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: c._id,\n                  children: c.category\n                }, c._id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 25\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 159,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group col-md-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"text-secondary\",\n                children: \" Quantity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                min: \"1\",\n                max: \"100\",\n                className: \"form-control\",\n                name: \"productQty\",\n                value: productQty,\n                onChange: handleProductChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-footer\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-warning\",\n          children: \"Save\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-danger\",\n          \"data-dismiss\": \"modal\",\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AdminEditProduct, \"Y5ZiRZqjkvRVfq43IyBo61kpePk=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = AdminEditProduct;\nexport default AdminEditProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminEditProduct\");","map":{"version":3,"sources":["/home/shivaworkstation/Documents/MERN STACK/ecommerce/client/src/components/AdminEditProduct.js"],"names":["React","Fragment","useState","isEmpty","showErrorMsg","showSuccessMsg","showLoading","useSelector","useDispatch","clear_messages","createProduct","AdminEditProduct","dispatch","successMsg","errorMsg","state","messages","loading","categories","clientSideError","setClientSideError","productData","setProductData","productImage","productName","productDesc","productPrice","productCategory","productQty","handleMessages","evt","handleProductImage","e","target","name","files","handleProductChange","value","handleProductSubmit","preventDefault","formData","FormData","append","map","c","_id","category"],"mappings":"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","sourcesContent":["import React, { Fragment, useState } from \"react\";\nimport isEmpty from \"validator/lib/isEmpty\";\nimport { showErrorMsg, showSuccessMsg } from \"./helpers/message\";\nimport { showLoading } from \"./helpers/loading\";\n\n//redux\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { clear_messages } from \"../redux/actions/messageActions\";\nimport { createProduct } from \"../redux/actions/productActions\";\n\nconst AdminEditProduct = () => {\n  const dispatch = useDispatch();\n\n  //redux global state\n  //from store\n  const { successMsg, errorMsg } = useSelector((state) => state.messages);\n  const { loading } = useSelector((state) => state.loading);\n  const { categories } = useSelector((state) => state.categories);\n\n  //\n  const [clientSideError, setClientSideError] = useState(\"\");\n\n  const [productData, setProductData] = useState({\n    productImage: null,\n    productName: \"\",\n    productDesc: \"\",\n    productPrice: \"\",\n    productCategory: \"\",\n    productQty: \"\",\n  });\n\n  const {\n    productImage,\n    productName,\n    productDesc,\n    productPrice,\n    productCategory,\n    productQty,\n  } = productData;\n  /****************************\n   * EVENT HANDLERS\n   ***************************/\n  const handleMessages = (evt) => {\n    dispatch(clear_messages());\n    setClientSideError(\"\");\n  };\n  /****** on typing food item *****/\n  const handleProductImage = (e) => {\n    setProductData({\n      ...productData,\n      [e.target.name]: e.target.files[0],\n    });\n  };\n  const handleProductChange = (e) => {\n    setProductData({\n      ...productData,\n      [e.target.name]: e.target.value,\n    });\n  };\n  const handleProductSubmit = (evt) => {\n    evt.preventDefault();\n\n    if (productImage === null) {\n      setClientSideError(\"Please select an image\");\n    } else if (\n      isEmpty(productName) ||\n      isEmpty(productDesc) ||\n      isEmpty(productPrice)\n    ) {\n      setClientSideError(\"Please enter all fields\");\n    } else if (isEmpty(productCategory)) {\n      setClientSideError(\"Please select a category\");\n    } else if (isEmpty(productQty)) {\n      setClientSideError(\"Please select a quantity\");\n    } else {\n      let formData = new FormData();\n\n      formData.append(\"productImage\", productImage);\n      formData.append(\"productName\", productName);\n      formData.append(\"productDesc\", productDesc);\n      formData.append(\"productPrice\", productPrice);\n      formData.append(\"productCategory\", productCategory);\n      formData.append(\"productQty\", productQty);\n\n      dispatch(createProduct(formData));\n      setProductData({\n        productImage: null,\n        productName: \"\",\n        productDesc: \"\",\n        productPrice: \"\",\n        productCategory: \"\",\n        productQty: \"\",\n      });\n    }\n  };\n  return (\n    <div className=\"modal-content\">\n      <form onSubmit={handleProductSubmit}>\n        <div className=\"modal-header bg-warning text-dark\">\n          {clientSideError && showErrorMsg(clientSideError)}\n          {errorMsg && showErrorMsg(errorMsg)}\n          {successMsg && showSuccessMsg(successMsg)}\n\n          <h5 className=\"modal-text\">Add Food</h5>\n          <button className=\"close\">\n            <span>\n              <i className=\"fas fa-times text-dark\" data-dismiss=\"modal\"></i>\n            </span>\n          </button>\n        </div>\n        <div className=\"modal-body my-3\">\n          {loading ? (\n            <div className=\"text-center\"> {showLoading()}</div>\n          ) : (\n            <Fragment>\n              <div className=\"form-group mb-3\">\n                <input\n                  type=\"file\"\n                  className=\"form-control \"\n                  name=\"productImage\"\n                  onChange={handleProductImage}\n                />\n              </div>\n              <div className=\"form-group mt-4\">\n                <label className=\"text-secondary\"> Food Name</label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"productName\"\n                  value={productName}\n                  onChange={handleProductChange}\n                />\n              </div>\n              <div className=\"form-group\">\n                <label className=\"text-secondary\"> Description</label>\n                <textarea\n                  type=\"text\"\n                  rows=\"4\"\n                  className=\"form-control\"\n                  name=\"productDesc\"\n                  value={productDesc}\n                  onChange={handleProductChange}\n                ></textarea>\n              </div>\n              <div className=\"form-group\">\n                <label className=\"text-secondary\"> Price</label>\n                <input\n                  type=\"text\"\n                  name=\"productPrice\"\n                  value={productPrice}\n                  onChange={handleProductChange}\n                  className=\"form-control\"\n                />\n              </div>\n              <div className=\"form-row\">\n                <div className=\"form-group col-md-4\">\n                  <label className=\"text-secondary\"> Category</label>\n\n                  <select\n                    className=\"form-control custom-select mr-sm-2\"\n                    name=\"productCategory\"\n                    onChange={handleProductChange}\n                  >\n                    <option value=\"\">Choose one..</option>\n                    {categories &&\n                      categories.map((c) => (\n                        <option key={c._id} value={c._id}>\n                          {c.category}\n                        </option>\n                      ))}\n                  </select>\n                </div>\n                <div className=\"form-group col-md-4\">\n                  <label className=\"text-secondary\"> Quantity</label>\n                  <input\n                    type=\"number\"\n                    min=\"1\"\n                    max=\"100\"\n                    className=\"form-control\"\n                    name=\"productQty\"\n                    value={productQty}\n                    onChange={handleProductChange}\n                  />\n                </div>\n              </div>\n            </Fragment>\n          )}\n        </div>\n        <div className=\"modal-footer\">\n          <button type=\"submit\" className=\"btn btn-warning\">\n            Save\n          </button>\n          <button className=\"btn btn-danger\" data-dismiss=\"modal\">\n            Close\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default AdminEditProduct;\n"]},"metadata":{},"sourceType":"module"}